# 红流云创 V2.2 项目需求文档

## 1. 项目概述

### 1.1 项目名称
红流云创 V2.2

### 1.2 项目简介
红流云创是一款AI驱动的小红书图文创作助手，旨在帮助用户高效生成高质量的小红书图文内容。通过AI技术，用户可以输入主题或上传产品图，快速生成完整的图文大纲、营销文案和风格化配图。

### 1.3 核心价值主张
- **降低创作门槛**：无需专业设计技能，通过简单操作即可生成高质量图文
- **提高创作效率**：将传统图文创作流程自动化，大幅节省时间和精力
- **提升内容质量**：利用AI生成符合小红书平台风格的爆款内容
- **多种创作模式**：支持文生图+文和图生图文两种模式，满足不同创作需求

## 2. 功能需求

### 2.1 文本生成图文模式

#### 2.1.1 核心功能
- **主题输入**：用户输入创作主题
- **大纲生成**：AI根据主题生成完整的图文大纲
- **配图建议**：AI为每个内容页面生成配图建议
- **批量生图**：根据大纲和配图建议批量生成海报图片

#### 2.1.2 辅助功能
- **大纲编辑**：支持用户编辑生成的大纲内容
- **配图建议调整**：支持用户调整AI生成的配图建议
- **风格选择**：提供多种图片风格供用户选择
- **一键下载**：支持一键下载完整的文字和图片内容

### 2.2 图生图文模式

#### 2.2.1 核心功能
- **图片上传**：支持用户上传产品实拍图
- **产品分析**：AI分析产品的颜色、材质、类别等特征
- **卖点提取**：自动提取产品的核心卖点
- **营销文案生成**：根据产品特征生成营销文案
- **风格化配图生成**：生成多种风格的产品配图

#### 2.2.2 辅助功能
- **风格选择**：提供多种图片风格供用户选择
- **文案编辑**：支持用户编辑生成的营销文案
- **一键下载**：支持一键下载完整的文字和图片内容

### 2.3 历史记录功能

#### 2.3.1 核心功能
- **自动保存**：自动保存用户的创作历史
- **历史查看**：支持查看历史作品详情
- **历史管理**：支持删除和清理历史记录

### 2.4 系统设置功能

#### 2.4.1 核心功能
- **API密钥配置**：支持配置DeepSeek和Google GenAI API密钥
- **本地存储管理**：支持管理本地存储的数据
- **提示词调试**：支持开启提示词调试模式

## 3. 技术需求

### 3.1 前端技术栈
- **框架**：Vue 3 + TypeScript
- **路由**：Vue Router 4
- **状态管理**：Pinia
- **构建工具**：Vite

### 3.2 AI服务集成
- **文本生成**：DeepSeek API
- **图片生成**：Google GenAI API

### 3.3 部署方式
- **支持Docker部署**：提供两种Docker部署方案
  - Nginx静态文件部署（推荐）
  - Node.js服务器部署
- **支持服务器部署**：提供Nginx和Node.js部署方案

## 4. 非功能需求

### 4.1 性能需求
- **响应时间**：AI生成请求响应时间不超过30秒
- **图片生成速度**：单张图片生成时间不超过20秒
- **批量生成效率**：支持同时生成多张图片，且不影响系统稳定性

### 4.2 兼容性需求
- **浏览器支持**：支持所有现代浏览器（Chrome、Firefox、Safari、Edge等）
- **设备支持**：支持桌面端和移动端访问

### 4.3 安全性需求
- **API密钥安全**：所有API密钥存储在浏览器本地，不上传到服务器
- **数据隐私**：用户创作数据仅存储在本地，不进行云端同步

### 4.4 可用性需求
- **界面设计**：简洁直观，易于操作
- **错误处理**：提供清晰的错误提示和解决方案
- **帮助文档**：提供详细的使用说明和常见问题解答

## 5. 文生图功能板块详细需求

### 5.1 功能概述
文生图功能是红流云创的核心功能之一，允许用户通过输入文字内容生成符合小红书风格的图片。

### 5.2 核心流程
1. **内容输入**：用户输入页面内容或AI生成内容
2. **风格选择**：用户选择图片风格
3. **提示词生成**：系统根据内容和风格生成完整的提示词
4. **图片生成**：调用Google GenAI API生成图片
5. **结果返回**：返回生成的图片URL

### 5.3 提示词生成规则

#### 5.3.1 基础结构
- **风格要求**：根据用户选择的风格生成对应的风格提示词
- **技术规格**：明确指定图片比例、分辨率等技术参数
- **内容描述**：根据页面内容生成详细的内容描述
- **排版要求**：根据页面类型生成对应的排版要求
- **禁止元素**：明确指定禁止出现的元素（如水印、logo等）

#### 5.3.2 动态调整
- **温度值计算**：根据风格和是否有自定义提示词动态调整温度值
- **负面提示词构建**：根据风格构建对应的负面提示词
- **内容安全处理**：对空内容进行安全处理，避免模型拒绝或报错

### 5.4 支持的风格类型
1. **小红书爆款风格**：清新、精致、有设计感
2. **海报2K风格**：3D微缩场景电影海报风格
3. **INS极简风格**：干净简洁的极简主义风格
4. **科技未来风格**：未来科技感强的现代风格
5. **自然清新风格**：绿色环保的自然风格

### 5.5 页面类型支持
1. **封面页**：大标题、副标题、吸引人的设计
2. **内容页**：信息层次分明、重点内容突出
3. **总结页**：总结性内容、清晰的结论

## 6. 优化建议

### 6.1 功能优化
- **增加风格数量**：支持更多图片风格，满足多样化需求
- **自定义风格**：允许用户创建和保存自定义风格
- **图片编辑功能**：增加简单的图片编辑功能，如裁剪、滤镜等
- **模板库**：提供预设模板库，方便用户快速选择

### 6.2 性能优化
- **图片生成缓存**：对相同内容的图片生成结果进行缓存
- **异步生成**：支持后台异步生成图片，不影响用户操作
- **图片压缩**：对生成的图片进行优化压缩，减少存储空间

### 6.3 用户体验优化
- **实时预览**：提供提示词实时预览功能
- **历史提示词**：保存用户使用过的提示词，方便复用
- **提示词建议**：提供提示词优化建议，帮助用户生成更好的提示词
- **批量操作**：支持批量编辑和删除历史记录

### 6.4 技术优化
- **多AI模型支持**：支持切换不同的AI模型
- **提示词模板化**：提供可自定义的提示词模板
- **API调用优化**：优化API调用方式，提高成功率
- **错误重试机制**：增加自动重试机制，提高系统稳定性

## 7. 总结

红流云创V2.2是一款功能强大的AI图文创作助手，通过自动化的创作流程，帮助用户高效生成高质量的小红书图文内容。未来的优化方向将集中在功能扩展、性能提升和用户体验优化上，以满足不断变化的用户需求和市场趋势。